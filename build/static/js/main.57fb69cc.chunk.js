(this["webpackJsonpreact-movie-app"]=this["webpackJsonpreact-movie-app"]||[]).push([[0],{17:function(e,t,a){e.exports=a(43)},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),l=(a(22),a(23),a(24),a(25),a(26),a(27),a(2)),i=a.n(l),o=a(7),m=a(3),u=a(4),p=a(9),h=a(6),d=a(5);function v(e){var t=e.rating,a=40*Math.PI,n=a-t/100*a;return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"percent"},r.a.createElement("svg",{strokeDasharray:"".concat(a," ").concat(a)},r.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),r.a.createElement("circle",{strokeDashoffset:n,stroke:e.rating>=75?"#3bff00":"#d2d531",cx:"20",cy:"20",r:"20"})),r.a.createElement("div",{className:"number"},0===e.rating?r.a.createElement("p",null,"NA"):r.a.createElement("p",null,e.rating,r.a.createElement("span",null,"%")))))}var f=a(8),g=a.n(f);function b(e){var t=e.rating,a=40*Math.PI,n=a-t/100*a;return r.a.createElement("div",{className:"box-lg"},r.a.createElement("div",{className:"percent-lg"},r.a.createElement("svg",{strokeDasharray:"".concat(a," ").concat(a)},r.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),r.a.createElement("circle",{strokeDashoffset:n,stroke:e.rating>=75?"#3bff00":"#d2d531",cx:"20",cy:"20",r:"20"})),r.a.createElement("div",{className:"number-lg"},0===e.rating?r.a.createElement("p",null,"NA"):r.a.createElement("p",null,e.rating,r.a.createElement("span",null,"%")))))}var E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(o.a)(i.a.mark((function e(){var t,a,r,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.title+" official trailer",a="https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=".concat(t.replace(/\s/g,""),"&type=video&key=").concat(n.state.api_key),console.log(a),e.next=5,fetch(a);case 5:if(200===(r=e.sent).status){e.next=10;break}console.log(r),e.next=16;break;case 10:return e.next=12,r.json();case 12:c=e.sent,s=c.items[0].id.videoId,n.setState({trailerSrc:"https://www.youtube.com/embed/".concat(s,"?enablejsapi=1")}),console.log(n.state.trailerSrc);case 16:case"end":return e.stop()}}),e)}))),n.state={title:e.data.title,trailerSrc:"",api_key:"AIzaSyDlQxTH0XNx6DmMr5Wy5_amd6bNXZ2SaLM"},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement("iframe",{className:"iframe",title:"trailer",id:"existing-iframe-example",width:"640",height:"360",src:this.state.trailerSrc,frameBorder:"0",allowFullScreen:!0}))}}]),a}(n.Component),y=a(16),k=(a(41),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(o.a)(i.a.mark((function e(){var t,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/movie/".concat(n.state.id,"/images?api_key=b0aa4893b30020c4cb9176b7a91cc441&language=en-US&append_to_response=images&include_image_language=en,null"),e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,c=r.posters,n.setState({imgSrc:c.map((function(e){return"https://image.tmdb.org/t/p/w600_and_h900_bestv2".concat(e.file_path)}))}),console.log(n.state.galleryIsOpen);case 10:case"end":return e.stop()}}),e)}))),n.state={imgSrc:[],id:e.data.id,title:e.data.title,photoIndex:0,galleryIsOpen:e.galleryIsOpen},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.imgSrc,n=t.photoIndex,c=t.galleryIsOpen;return r.a.createElement("div",null,c&&a&&r.a.createElement(y.a,{mainSrc:a[n],nextSrc:a[(n+1)%a.length],prevSrc:a[(n+a.length-1)%a.length],onCloseRequest:function(){return e.setState({galleryIsOpen:!1})},onMovePrevRequest:function(){return e.setState({photoIndex:(n+a.length-1)%a.length})},onMoveNextRequest:function(){return e.setState({photoIndex:(n+1)%a.length})}}))}}]),a}(n.Component)),O=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={modalIsOpen:!1,trailerIsOpen:!1,galleryIsOpen:!1,movies:e.data},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;console.log(this.state.movies);var t=this.state.movies,a=t.poster_path,n=t.title,c=t.release_date,s=t.vote_average,l=t.original_language,i=t.overview,o=t.genre_ids,m=c.slice(0,4),u=o.map((function(e){return 80===e?"Crime":878===e?"Science Fiction":28===e?"Action":53===e?"Thriller":27===e?"Horror":18===e?"Drama":35===e?"Comedy":12===e?"Adventure":9648===e?"Mystery":16===e?"Animation":10751===e?"Family":14===e?"Fantasy":10749===e?"Romance":e}));return r.a.createElement("div",{className:"movie-element"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w220_and_h330_face/".concat(a),alt:n+"poster",onClick:function(){return e.setState({modalIsOpen:!0})}}),r.a.createElement("div",{className:"content"},r.a.createElement(v,{rating:10*s}),r.a.createElement("h4",{className:"movie-card-title"},n),r.a.createElement("p",{className:"movie-card-date"},c)),r.a.createElement(g.a,{isOpen:this.state.modalIsOpen,onRequestClose:function(){return e.setState({modalIsOpen:!1})},className:"Modal",overlayClassName:"Overlay"},r.a.createElement("header",{className:"modal-header"},r.a.createElement("p",{onClick:function(){return e.setState({modalIsOpen:!1})}},"x")),r.a.createElement("main",{className:"main-div"},r.a.createElement("div",{className:"image-div"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300_and_h450_bestv2/".concat(a),alt:n+"poster"})),r.a.createElement("div",{className:"content-div"},r.a.createElement("div",{className:"title-element"},r.a.createElement("h1",null,n,", ",r.a.createElement("span",null,"(".concat(m,")"))),r.a.createElement("ul",{className:"title-list"},r.a.createElement("li",{style:{listStyleType:"none"}},c," (".concat(l.toUpperCase(),")")),r.a.createElement("li",null,u.join(", ")))),r.a.createElement("div",{className:"function-element"},r.a.createElement(b,{rating:10*s}),r.a.createElement("p",{className:"function-text-score"},"User Score"),r.a.createElement("p",{className:"function-text-gallery",onClick:function(){return e.setState({galleryIsOpen:!0})}},"Photo Gallery"),r.a.createElement("p",{className:"function-text-trailer",onClick:function(){return e.setState({trailerIsOpen:!0})}},"Play Trailer")),r.a.createElement("div",{className:"description-element"},r.a.createElement("h3",null,"Overview"),r.a.createElement("p",null,i))))),r.a.createElement(g.a,{isOpen:this.state.trailerIsOpen,onRequestClose:function(){return e.setState({trailerIsOpen:!0})},className:"Modal Gallery",overlayClassName:"Overlay black"},r.a.createElement("header",{className:"modal-header"},r.a.createElement("p",{onClick:function(){return e.setState({trailerIsOpen:!1})}},"x")),r.a.createElement(E,{data:this.state.movies})),this.state.galleryIsOpen&&r.a.createElement(k,{data:this.state.movies,galleryIsOpen:this.state.galleryIsOpen}))}}]),a}(n.Component),x=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={movieName:"",movies:[],error:"",showTrending:!0,popular:!0,count:2,api_key:"b0aa4893b30020c4cb9176b7a91cc441"},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.handleClick=e.handleClick.bind(Object(p.a)(e)),e.handleClickLoadMore=e.handleClickLoadMore.bind(Object(p.a)(e)),e}return Object(u.a)(a,[{key:"handleChange",value:function(e){this.setState({movieName:e.target.value})}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(this.state.api_key));case 2:if(200===(t=e.sent).status){e.next=7;break}this.SetState({error:"Something went wrong ... check your connection and try again!"}),e.next=11;break;case 7:return e.next=9,t.json();case 9:a=e.sent,this.setState({movies:a.results});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(this.state.movieName,"&language=en-US&page=1&include_adult=false&api_key=").concat(this.state.api_key));case 3:if(200===(a=e.sent).status){e.next=8;break}this.SetState({error:"The Title can not be found. Check your Spelling!"}),e.next=12;break;case 8:return e.next=10,a.json();case 10:n=e.sent,this.setState({movies:n.results});case 12:this.setState({showTrending:!1,popular:!1,count:1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClickLoadMore",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.state.popular),this.setState((function(e){return{count:e.count+1}})),console.log(this.state.count),!0!==this.state.popular){e.next=17;break}return t="https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(this.state.api_key,"&page=").concat(this.state.count),e.next=7,fetch(t);case 7:if(200===(a=e.sent).status){e.next=12;break}this.SetState({error:"Try again"}),e.next=17;break;case 12:return e.next=14,a.json();case 14:n=e.sent,console.log(n.results),this.setState((function(e){return{movies:e.movies.concat(n.results)}}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return console.log(this.state.api_key),r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("input",{className:"form-input",type:"text",name:"movieName",value:this.state.movieName,onChange:this.handleChange,placeholder:"Type in a Title ..."}),r.a.createElement("button",{type:"submit",onClick:this.handleClick,className:"form-input-btn"},"Search")),r.a.createElement("br",null)),this.state.showTrending?r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"Populars of the Week")):null,r.a.createElement("div",{className:"movie-list"},this.state.error,e.filter((function(e){return e.poster_path})).map((function(e){return r.a.createElement(O,{key:e.id,data:e})})),r.a.createElement("br",null),this.state.popular?r.a.createElement("button",{className:"loadMore",onClick:this.handleClickLoadMore},"Load More Movies"):null))}}]),a}(n.Component);a(42);g.a.setAppElement("#root");var S=function(){return r.a.createElement("div",null,r.a.createElement(x,null))};s.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.57fb69cc.chunk.js.map